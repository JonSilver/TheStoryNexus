import { BookOpen, Bot, Layers, MessageSquarePlus, Sparkles, Trash2 } from "lucide-react";
import { Step, Tip, Important, InfoCard, CardGrid, FeatureCard, FeatureGrid, Summary } from "../components/mdx";

# Brainstorm Guide

Learn how to use the brainstorming features to develop ideas, explore plot possibilities, and overcome writer's block with AI-assisted conversations.

## What is Brainstorming?

The Brainstorm feature provides a chat-based interface for conversing with AI about your story. Unlike Scene Beats which generate prose directly into your chapters, brainstorming helps you explore ideas, develop characters, plan plot points, and work through creative challenges through natural conversation.

<CardGrid>
    <InfoCard icon={Sparkles} title="Key Benefits">
        - Develop character backstories and motivations
        - Explore plot alternatives and "what if" scenarios
        - Work through plot holes and inconsistencies
        - Generate world-building details on demand
        - Overcome writer's block with AI suggestions
    </InfoCard>

    <InfoCard icon={Bot} title="Context Awareness">
        - Access to your lorebook entries
        - Chapter summaries for continuity
        - Full chapter content when needed
        - Chat history maintained across sessions
        - Customisable context selection
    </InfoCard>
</CardGrid>

<Step number={1} title="Accessing Brainstorm">
    Navigate to your story dashboard and click on the "Brainstorm" tab. You'll see a sidebar with your chat sessions and a main area for conversation.

    *Path: Dashboard → [Your Story] → Brainstorm*
</Step>

<Step number={2} title="Creating a Chat Session">
    Each brainstorming session is a separate chat that maintains its own conversation history.

    1. Click the **Create New Chat** button
    2. A new chat appears in the sidebar with a timestamp
    3. You can rename chats for better organisation
    4. Create multiple chats for different aspects of your story

    <Tip title="Organisation Tip">
        Create separate chats for different purposes: "Character Development", "Plot Planning", "World Building", etc. This helps you find relevant conversations later.
    </Tip>
</Step>

<Step number={3} title="Selecting a Prompt and Model">
    Before starting a conversation, choose the AI prompt and model to use.

    **Prompt Selection:**
    Choose from system prompts or your custom brainstorm-type prompts. Different prompts can be optimised for different tasks (character development, plot analysis, world-building, etc.).

    **Model Selection:**
    Select an AI model from your configured providers (OpenAI, OpenRouter, or Local). Different models have different strengths—experiment to find what works best for your brainstorming style.
</Step>

<Step number={4} title="Using Context Controls">
    Control what context the AI has access to during your conversation.

    <div className="bg-muted p-4 rounded-md space-y-3">
        <div>
            <div className="flex items-center gap-2 mb-1">
                <Layers className="h-4 w-4 text-primary" />
                <h4 className="font-medium text-sm">Full Context Mode</h4>
            </div>
            <p className="text-sm text-muted-foreground">
                Enable to automatically include all lorebook entries, chapter summaries, and relevant story content. Great for general discussions where you want the AI to have complete knowledge.
            </p>
        </div>
        <div>
            <div className="flex items-center gap-2 mb-1">
                <BookOpen className="h-4 w-4 text-primary" />
                <h4 className="font-medium text-sm">Selective Context Mode</h4>
            </div>
            <p className="text-sm text-muted-foreground">
                Manually choose specific lorebook entries, chapter summaries, or chapter content to include. Useful when you want focused discussions about particular elements without overwhelming the context window.
            </p>
        </div>
    </div>
</Step>

<Step number={5} title="Having the Conversation">
    Type your questions or prompts in the message input area and press Send or Enter.

    **Example Brainstorming Questions:**
    - "What would motivate my antagonist to change sides?"
    - "How can I make this plot twist more surprising?"
    - "Generate three possible backstories for this character"
    - "What are the logical consequences of this magical system?"
    - "How should I handle the pacing in the next chapter?"

    <Important title="Pro Tip">
        The AI maintains conversation history, so you can have multi-turn discussions. Ask follow-up questions, request alternatives, or refine ideas through back-and-forth dialogue.
    </Important>
</Step>

<Step number={6} title="Managing Chat Sessions">
    Keep your brainstorming organised with these management features:

    <FeatureGrid cols={2}>
        <FeatureCard icon={MessageSquarePlus} title="Renaming Chats">
            Give your chats descriptive names to find them easily later
        </FeatureCard>
        <FeatureCard icon={Trash2} title="Deleting Chats">
            Remove chats you no longer need to declutter your workspace
        </FeatureCard>
    </FeatureGrid>
</Step>

<Summary title="Effective Brainstorming Strategies">
    **Be Specific**
    Instead of "Tell me about my character," try "What psychological trauma might explain why my character avoids commitment?"

    **Use Lorebook Context**
    Enable full context or select relevant lorebook entries so the AI understands your story's world and characters.

    **Iterate and Refine**
    Don't settle for the first response. Ask for variations, alternatives, or deeper exploration of promising ideas.

    **Record Good Ideas in Lorebook**
    When brainstorming produces valuable insights, add them to your lorebook so they inform future AI generations.
</Summary>
